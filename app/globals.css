@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --foreground-rgb: 0, 0, 0;
  --background-rgb: 255, 255, 255;
}

body {
  color: rgb(var(--foreground-rgb));
  background: linear-gradient(to bottom, #f8fafc, #ffffff);
  min-height: 100vh;
}

/* Стили для блоков кода */
.code-block {
  background: #1e293b;
  border-radius: 0.75rem;
  padding: 1.25rem;
  overflow-x: auto;
  font-family: 'Fira Code', 'Consolas', monospace;
  font-size: 0.9rem;
  line-height: 1.6;
}

.code-block code {
  color: #e2e8f0;
}

/* Ключевые слова */
.code-block .keyword {
  color: #c084fc;
}

/* Строки */
.code-block .string {
  color: #86efac;
}

/* Комментарии */
.code-block .comment {
  color: #64748b;
  font-style: italic;
}

/* Числа */
.code-block .number {
  color: #fbbf24;
}

/* Функции */
.code-block .function {
  color: #60a5fa;
}

/* Плавные переходы */
.topic-card {
  transition: all 0.2s ease-in-out;
}

.topic-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 40px -10px rgba(59, 130, 246, 0.3);
}

/* Схемы и изображения */
.schema-image {
  border-radius: 0.75rem;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
  transition: transform 0.3s ease;
}

.schema-image:hover {
  transform: scale(1.02);
}

/* Подсветка важного текста */
.highlight {
  background: linear-gradient(120deg, #fef08a 0%, #fde047 100%);
  padding: 0.1em 0.3em;
  border-radius: 0.25rem;
}

/* Информационные блоки */
.info-block {
  border-left: 4px solid #3b82f6;
  background: linear-gradient(to right, #eff6ff, transparent);
  padding: 1rem 1.5rem;
  border-radius: 0 0.5rem 0.5rem 0;
}

.warning-block {
  border-left: 4px solid #f59e0b;
  background: linear-gradient(to right, #fefce8, transparent);
  padding: 1rem 1.5rem;
  border-radius: 0 0.5rem 0.5rem 0;
}

/* Анимация появления */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fadeInUp {
  animation: fadeInUp 0.5s ease-out forwards;
}

/* Видео контейнер для iframe (YouTube, RuTube и т.д.) */
.video-container {
  position: relative;
  padding-bottom: 56.25%; /* 16:9 */
  height: 0;
  overflow: hidden;
  border-radius: 0.75rem;
  background: #1e293b;
}

.video-container iframe {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  border-radius: 0.75rem;
}

/* Стили для обычных video тегов */
.lesson-content video {
  max-width: 100%;
  height: auto;
  border-radius: 0.75rem;
  margin: 1rem 0;
  display: block;
  background: #000;
}

/* Изображения в контенте урока */
.lesson-content img {
  max-width: 100%;
  height: auto;
  border-radius: 0.75rem;
  margin: 1rem 0;
}

/* Специальные стили для GIF анимаций */
.gif-animation {
  image-rendering: auto !important;
  -webkit-image-rendering: auto !important;
  -moz-image-rendering: auto !important;
  -o-image-rendering: auto !important;
  image-rendering: -webkit-optimize-contrast !important;
}

/* Обеспечиваем правильное отображение GIF в разных контекстах */
img[src*="data:image/gif"] {
  image-rendering: auto !important;
}

/* Анимация для загрузки изображений */
@keyframes imageLoad {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

.gif-animation {
  animation: imageLoad 0.3s ease-out;
}

/* Стили для Tenor GIF embeds */
.tenor-gif-embed {
  max-width: 100%;
  margin: 1rem 0;
  border-radius: 0.75rem;
  overflow: hidden;
}

/* Стили для GIPHY embeds */
.giphy-embed {
  max-width: 100%;
  margin: 1rem 0;
  border-radius: 0.75rem;
}

/* Контейнер для внешних GIF */
.external-gif-container {
  max-width: 100%;
  margin: 1rem 0;
  border-radius: 0.75rem;
  overflow: hidden;
  background: #f3f4f6;
}

/* ========== СТИЛИ ДЛЯ КОНТЕНТА УРОКОВ ========== */

/* Заголовки */
.prose h1 {
  font-size: 2rem;
  font-weight: 700;
  color: #1f2937;
  margin-top: 2rem;
  margin-bottom: 1rem;
  line-height: 1.3;
}

.prose h2 {
  font-size: 1.5rem;
  font-weight: 600;
  color: #374151;
  margin-top: 1.75rem;
  margin-bottom: 0.75rem;
  padding-bottom: 0.5rem;
  border-bottom: 2px solid #e5e7eb;
}

.prose h3 {
  font-size: 1.25rem;
  font-weight: 600;
  color: #4b5563;
  margin-top: 1.5rem;
  margin-bottom: 0.5rem;
}

/* Параграфы */
.prose p {
  color: #4b5563;
  line-height: 1.75;
  margin-bottom: 1rem;
}

/* Списки */
.prose ul {
  list-style-type: disc;
  padding-left: 1.5rem;
  margin-bottom: 1rem;
}

.prose ol {
  list-style-type: decimal;
  padding-left: 1.5rem;
  margin-bottom: 1rem;
}

.prose li {
  color: #4b5563;
  margin-bottom: 0.5rem;
  line-height: 1.6;
}

/* Цитаты */
.prose blockquote {
  border-left: 4px solid #3b82f6;
  background: linear-gradient(to right, #eff6ff, transparent);
  padding: 1rem 1.5rem;
  margin: 1.5rem 0;
  border-radius: 0 0.5rem 0.5rem 0;
  font-style: italic;
  color: #4b5563;
}

/* Инлайн код */
.prose code:not(pre code) {
  background: #fef3c7;
  color: #92400e;
  padding: 0.2rem 0.4rem;
  border-radius: 0.25rem;
  font-size: 0.9em;
  font-family: 'Fira Code', 'Consolas', monospace;
}

/* Блоки кода с Prism.js */
.prose pre {
  background: #2d3748 !important;
  border-radius: 0.75rem;
  padding: 1.25rem;
  overflow-x: auto;
  margin: 1.5rem 0;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
  position: relative;
}

.prose pre code {
  color: #e2e8f0 !important;
  font-family: 'Fira Code', 'Consolas', monospace;
  font-size: 0.9rem;
  line-height: 1.6;
  background: transparent !important;
  padding: 0;
}

/* Переопределяем стили Prism для лучшего вида */
.prose pre[class*="language-"] {
  background: #2d3748 !important;
  border-radius: 0.75rem !important;
  padding: 1.25rem !important;
  margin: 1.5rem 0 !important;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1) !important;
}

.prose code[class*="language-"] {
  color: #e2e8f0 !important;
  font-family: 'Fira Code', 'Consolas', monospace !important;
  font-size: 0.9rem !important;
  line-height: 1.6 !important;
}

/* Токены Prism - Python подсветка */
.token.comment, .token.prolog, .token.doctype, .token.cdata { 
  color: #718096 !important; 
  font-style: italic;
}

.token.keyword { 
  color: #9f7aea !important; 
  font-weight: bold;
}

.token.string, .token.char, .token.attr-value, .token.regex, .token.variable { 
  color: #68d391 !important; 
}

.token.number, .token.boolean, .token.constant { 
  color: #fbb6ce !important; 
}

.token.function, .token.class-name { 
  color: #63b3ed !important; 
}

.token.operator, .token.entity, .token.url { 
  color: #f6ad55 !important; 
}

.token.punctuation, .token.symbol { 
  color: #cbd5e0 !important; 
}

.token.builtin { 
  color: #fbb6ce !important; 
}

/* Горизонтальная линия */
.prose hr {
  border: none;
  border-top: 2px solid #e5e7eb;
  margin: 2rem 0;
}

/* Жирный текст */
.prose strong {
  color: #1f2937;
  font-weight: 600;
}

/* Ссылки */
.prose a {
  color: #3b82f6;
  text-decoration: underline;
}

.prose a:hover {
  color: #2563eb;
}
